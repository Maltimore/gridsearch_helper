# Gridsearch Helper

This repository contains some helper scripts to launch your parallelized gridsearch with a scheduling system like sun grid engine (in fact at the moment only sun grid engine is supported).

## Usage

Place this repository anywhere on your system. This program assumes that your entry point is a module called main.py, containing the function main(params), where params is a dictionary.


```python
# filename: main.py

def main(params):
	# ...
```

It also assumes that in the same directory as your main.py you have a file called parameters.yaml in which you have two sections, one being 'default', containing the default parameters, and the other 'gridsearch', in which parameters to be gridsearched are given with their values in YAML-lists. See the example YAML file.

Then, from the directory in which you want your program to be run, call the entry.sh script, which is called like

```bash
./path/to/entry.sh relative/path/to/main.py start_idx end_idx name
```

Where ``relative/path/to/main.py`` is the relative path to the main.py file, ``start_idx`` is the beginning index of the task ranage, ``end_idx`` is the end index of the task range, and ``name`` is the name for the entire gridsearch. To call a gridsearch with indices 1, 2, 3, 4, 5, 6 and name mygridsearch, call

```
./path/to/entry.sh myproject/main.py 1 6 mygridsearch
```

The results will be put in ``./outfiles/mygridsearch``. Specifically, each instance of ```main(params)``` will get a params dictionary as argument. In params, you will find the keys 'gridsearch', set to ```True```, and 'output_path' and 'gridsearch_results_path'. 'output_path' is where you should save all relevant data generated by your program. Into 'gridsearch_results_path' you should only save a file 'program_state.yaml' in which you save the final score of the current run.
